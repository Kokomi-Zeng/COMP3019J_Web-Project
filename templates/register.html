{% extends "base_begin.html" %}

{% block title %}
register
{% endblock %}

{% block css %}/static/css/register.css{% endblock %}

{% block script %}
    <script>
    let user_type;

    function register(){
        $.ajax({
            url:"/authorize/register",
            type:"post",
            contentType: "application/json",
            dataType: "json",
            data:JSON.stringify({
                phone:$("#phone").val(),
                password:$("#password").val(),
                user_type: user_type,
            }),
            success:function (data){
                if(data.success){
                    alert(data.message);
                    history.back();
                } else {
                    alert(data.message);
                }
            }
        })
    }
    </script>
{% endblock %}

{% block right_box %}
<div class="register-background-div">
    <div class="user-type">
        <label>buyer
        <input type="radio" name="type" class="user-type" value="1" id="buyer" onclick="user_type='1'">
        </label>
        <label>seller
        <input type="radio" name="type" class="user-type" value="0" id="seller" onclick="user_type='0'">
            </label>
    </div>

    <div class="phone">
        <input type="text" id="phone" placeholder="phone">
    </div>

    <div class="password">
        <input type="password" id="password" placeholder="password">
    </div>

    <div class="submit">
        <button id="submit" onclick="register()">REGISTER</button>
    </div>

</div>
{% endblock %}